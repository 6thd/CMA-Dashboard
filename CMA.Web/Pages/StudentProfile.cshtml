@page "{studentId}"
@model CMA.Web.Pages.StudentProfileModel
@{
    ViewData["Title"] = "Student Profile";
}

@if (Model.Student != null)
{
    <div class="space-y-6">
        <h1 class="text-3xl font-bold text-white text-shadow">Student Profile</h1>
        <div class="bg-gray-900/50 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl p-6">
            <h2 class="text-2xl font-semibold text-white text-shadow">@Model.Student.FullName</h2>
            <p class="text-gray-300">@Model.Student.Email</p>
        </div>

        <div class="bg-gray-900/50 backdrop-blur-xl border border-white/10 rounded-lg shadow-xl p-6">
            <h3 class="text-xl font-semibold text-white text-shadow mb-4">Exam History</h3>
            <table class="min-w-full divide-y divide-white/10">
                <thead class="bg-black/20">
                    <tr>
                        <th class="py-2 px-4 text-left text-gray-200">Exam</th>
                        <th class="py-2 px-4 text-left text-gray-200">Score</th>
                        <th class="py-2 px-4 text-left text-gray-200">Date</th>
                        <th class="py-2 px-4 text-left text-gray-200">Status</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-white/10">
                    @if (Model.Attempts != null)
                    {
                        @foreach (var attempt in Model.Attempts)
                        {
                            <tr>
                                <td class="py-2 px-4 text-gray-200">@attempt.ExamName</td>
                                <td class="py-2 px-4 text-gray-200">@attempt.Percentage%</td>
                                <td class="py-2 px-4 text-gray-200">@attempt.AttemptDate.ToShortDateString()</td>
                                <td class="py-2 px-4">
                                    <span class="px-2 py-1 rounded-full text-xs font-semibold @(attempt.Percentage >= 50 ? "bg-green-900/50 text-green-400" : "bg-red-900/50 text-red-400")">
                                        @(attempt.Percentage >= 50 ? "Passed" : "Failed")
                                    </span>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
}
else
{
    <p class="text-white">Student not found.</p>
}
